<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sugnana Murthy GM - Security & Full-Stack Portfolio</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons for modern, clean vectors -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Custom Tailwind Configuration */
        :root {
            --primary-color: #00ADB5; /* Deep Cyber Teal */
            --secondary-color: #393E46; /* Dark Gray for cards */
            --background-color: #222831; /* Near-Black Background */
            --text-color: #EEEEEE; /* Light text */
        }

        .dark-theme-bg { background-color: var(--background-color); }
        .card-bg { background-color: var(--secondary-color); }
        .text-primary { color: var(--primary-color); }
        .border-primary { border-color: var(--primary-color); }
        .bg-primary { background-color: var(--primary-color); }
        
        .section-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .section-content.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Typing effect cursor */
        .typing-cursor {
            display: inline-block;
            width: 3px;
            height: 1.2em;
            background-color: var(--primary-color);
            margin-left: 2px;
            animation: blink 0.7s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Animated Code Snippet CSS */
        @keyframes code-scroll {
            0% { transform: translateY(0); }
            /* Adjusted scroll limit to ensure visibility and prevent content from disappearing too quickly */
            100% { transform: translateY(-55%); } 
        }

        .animate-code-scroll {
            animation: code-scroll 10s linear infinite;
        }

        /* Spinning loader for AI generation */
        .loader {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Updated style for the terminal area */
        .terminal-window {
            height: 32; /* matches h-32 in HTML */
            background-color: #1a1e24; /* Darker than the card background, typical terminal color */
            border-radius: 0.5rem; /* matches rounded-lg in HTML */
            padding: 0; /* Ensure no padding on the container */
            overflow: hidden;
            position: relative;
        }
        
        /* Ensure the pre element starts from the edge, removing all padding/margins */
        .terminal-window pre {
            position: absolute;
            inset: 0;
            /* CRUCIAL FIX: Remove all padding from the PRE element */
            padding: 0; 
            padding-left: 8px; /* ADDED: Minimal left padding for professional look (p-2 equivalent) */
            padding-top: 4px; /* ADDED: Minimal top padding */
            line-height: 1.4;
            margin: 0; /* Remove default margin */
        }
    </style>
</head>

<body class="dark-theme-bg text-gray-100 font-sans min-h-screen" style="font-family: 'Inter', sans-serif;">

    <!-- Navigation Bar -->
    <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 card-bg shadow-lg border-b border-primary/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo/Name -->
                <div class="flex-shrink-0">
                    <span class="text-2xl font-bold text-primary">Sugnana Murthy</span>
                </div>
                <!-- Navigation Links -->
                <div class="flex space-x-6">
                    <a href="#home" data-section="home" class="nav-link text-gray-300 hover:text-primary transition duration-300 font-medium">Home</a>
                    <a href="#skills" data-section="skills" class="nav-link text-gray-300 hover:text-primary transition duration-300 font-medium">Skills</a>
                    <a href="#projects" data-section="projects" class="nav-link text-gray-300 hover:text-primary transition duration-300 font-medium">Projects</a>
                    <a href="#activities" data-section="activities" class="nav-link text-gray-300 hover:text-primary transition duration-300 font-medium">Experience</a>
                    <a href="#contact" data-section="contact" class="nav-link text-gray-300 hover:text-primary transition duration-300 font-medium">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="pt-20 pb-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-20">

            <!-- HOME SECTION (Active by default) -->
            <section id="home" data-section="home" class="section-content active min-h-[calc(100vh-80px)] flex items-center">
                <div class="grid md:grid-cols-2 gap-12 items-center w-full">
                    <!-- Text Content -->
                    <div class="space-y-6">
                        <p class="text-xl text-primary font-medium">Hello, I'm</p>
                        <h1 class="text-6xl font-extrabold tracking-tight text-text-color">
                            Sugnana Murthy GM
                        </h1>
                        <h2 class="text-3xl font-light text-gray-300 h-10">
                            <span id="typewriter-text" class="font-mono"></span><span class="typing-cursor"></span>
                        </h2>
                        <p class="text-lg text-gray-400 max-w-xl">
                            Dynamic <b>Full-Stack Web Developer and Cybersecurity Enthusiast</b> specializing in building secure, scalable web applications and implementing robust security practices. Proficient in HTML, CSS, JavaScript, React, Flask, and AWS, with hands-on experience in encryption, ethical hacking, and AI security. Passionate about advancing web security and contributing to innovative solutions.
                        </p>
                        <div class="flex space-x-4 pt-4">
                            <a href="#projects" class="bg-primary text-background-color font-bold py-3 px-6 rounded-lg hover:opacity-90 transition duration-300 shadow-lg shadow-primary/30" onclick="switchSection('projects')">
                                View Projects
                            </a>
                            <a href="#contact" class="border border-primary text-primary font-bold py-3 px-6 rounded-lg hover:bg-primary/10 transition duration-300" onclick="switchSection('contact')">
                                Get In Touch
                            </a>
                        </div>
                    </div>
                    <!-- Profile Picture and Code Visual -->
                    <div class="flex flex-col items-center space-y-6">
                        <div class="card-bg p-3 rounded-full border-4 border-primary shadow-2xl shadow-primary/30">
                            <!-- Image URL updated to the latest link provided by the user -->
                            <img src="https://media.licdn.com/dms/image/v2/D5603AQGY3wqGUe6vyw/profile-displayphoto-crop_800_800/B56ZpH.9hQJkAI-/0/1762144280370?e=1767225600&v=beta&t=50kn0sEUvB4bJQFPg-NCOC2BVadrs7pPz3XxDsLQa5c" 
                                 alt="Sugnana Murthy GM professional portrait" 
                                 class="w-64 h-64 object-cover rounded-full transform hover:scale-105 transition duration-500"
                                 onerror="this.onerror=null; this.src='https://placehold.co/256x256/393E46/EEEEEE?text=Profile+Image+Fallback';"
                            >
                        </div>
                        <div class="card-bg p-4 rounded-xl border border-primary/20 w-full max-w-xs shadow-xl hidden lg:block">
                            <!-- Applied the new terminal-window class -->
                            <div class="terminal-window font-mono text-xs">
                                <!-- Removed the Tailwind classes inside, now using CSS for padding control -->
                                <pre class="text-primary/70 text-[10px] leading-4 animate-code-scroll">
                                    <span class="text-red-400"># CyberSec Trace:</span> Initiated...
                                    <span class="text-yellow-400">> $ nmap -sV -p 80,443 target.com</span>
                                    <span class="text-green-400">Deployment successful!</span>
                                    <span class="text-yellow-400">git commit -m "Secure API endpoints"</span>
                                    <span class="text-primary">$ git push origin main</span>
                                    <span class="text-green-400">Deployment successful!</span>
                                    <span class="text-red-400">Vulnerability Scan:</span> Complete.
                                    <span class="text-yellow-400"># Next task:</span> Review log files.
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- SKILLS SECTION -->
            <section id="skills" data-section="skills" class="section-content hidden pt-8">
                <h2 class="text-4xl font-bold text-primary mb-10 border-b border-primary/50 pb-4">Core Skills & Expertise</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <!-- Category 1: Cybersecurity & AI Security -->
                    <div class="card-bg p-6 rounded-xl shadow-lg border-t-4 border-primary">
                        <div class="flex items-center space-x-3 mb-4">
                            <i data-lucide="shield-half" class="text-primary w-6 h-6"></i>
                            <h3 class="text-xl font-semibold text-text-color">Cybersecurity & AI Security</h3>
                        </div>
                        <ul class="space-y-2 text-gray-400">
                            <li>Web Application Security, Ethical Hacking & Pen Testing</li>
                            <li>Quantum Cryptography & Encryption (Caesar, Beaufort, Autokey)</li>
                            <li>Adversarial AI Defense & ML Security</li>
                            <li>Computer Networks, Log Inspection, Web Security</li>
                            <li>AI Tools: Openai, Grok, LangChain, Gemini, Sora</li>
                        </ul>
                    </div>

                    <!-- Category 2: Full-Stack Development -->
                    <div class="card-bg p-6 rounded-xl shadow-lg border-t-4 border-primary">
                        <div class="flex items-center space-x-3 mb-4">
                            <i data-lucide="code-square" class="text-primary w-6 h-6"></i>
                            <h3 class="text-xl font-semibold text-text-color">Full-Stack Development</h3>
                        </div>
                        <ul class="space-y-2 text-gray-400">
                            <li>Languages: HTML, CSS, JavaScript, PHP</li>
                            <li>Front-End: React, jQuery, Bootstrap, Responsive Design</li>
                            <li>Back-End: Flask, API Integration</li>
                            <li>Databases: MySQL, MongoDB</li>
                            <li>Web Optimization: SEO Best Practices</li>
                        </ul>
                    </div>
                    
                    <!-- Category 3: Cloud, Analytics & Soft Skills -->
                    <div class="card-bg p-6 rounded-xl shadow-lg border-t-4 border-primary">
                        <div class="flex items-center space-x-3 mb-4">
                            <i data-lucide="cloud" class="text-primary w-6 h-6"></i>
                            <h3 class="text-xl font-semibold text-text-color">Cloud, Analytics & Soft Skills</h3>
                        </div>
                        <ul class="space-y-2 text-gray-400">
                            <li>Cloud & DevOps: AWS, Google Cloud, Git Version Control</li>
                            <li>Analytics: Real-time Analytics, SEO</li>
                            <li>Automation: Python & Bash Scripting</li>
                            <li>Soft Skills: Problem Solving, Prompt Engineering, Communication</li>
                        </ul>
                    </div>

                </div>
            </section>
            
            <!-- PROJECTS SECTION -->
            <section id="projects" data-section="projects" class="section-content hidden pt-8">
                <h2 class="text-4xl font-bold text-primary mb-10 border-b border-primary/50 pb-4">Key Projects</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <!-- Project 1: Cybersecurity Awareness Portal -->
                    <div class="card-bg rounded-xl overflow-hidden shadow-xl hover:shadow-primary/20 transition duration-300">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-text-color mb-2">1. Cybersecurity Awareness Portal (NISD Compliance)</h3>
                            <p class="text-primary font-medium mb-4">React, Flask, AWS</p>
                            <p class="text-gray-400 text-sm mb-4">Built a NISD-aligned web portal for cybersecurity education, hosted on AWS, achieving high user satisfaction.</p>
                            <button onclick="showProjectModal(1)" class="text-sm border border-primary text-primary py-2 px-4 rounded-full hover:bg-primary hover:text-background-color transition duration-300">
                                View Details
                            </button>
                        </div>
                    </div>

                    <!-- Project 2: Translatr (Encryption Tool) -->
                    <div class="card-bg rounded-xl overflow-hidden shadow-xl hover:shadow-primary/20 transition duration-300">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-text-color mb-2">2. Translatr (Encryption/Decryption Tool)</h3>
                            <p class="text-primary font-medium mb-4">AWS Encryption SDK, Custom Ciphers</p>
                            <p class="text-gray-400 text-sm mb-4">Developed a robust tool supporting Caesar, Beaufort, and Autokey ciphers for secure data transformation.</p>
                            <button onclick="showProjectModal(2)" class="text-sm border border-primary text-primary py-2 px-4 rounded-full hover:bg-primary hover:text-background-color transition duration-300">
                                View Details
                            </button>
                        </div>
                    </div>
                    
                    <!-- Project 3: Steganography Web App -->
                    <div class="card-bg rounded-xl overflow-hidden shadow-xl hover:shadow-primary/20 transition duration-300">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-text-color mb-2">3. Steganography Web App</h3>
                            <p class="text-primary font-medium mb-4">JavaScript, Flask</p>
                            <p class="text-gray-400 text-sm mb-4">A secure application to hide and extract messages within images, built with JavaScript and Flask.</p>
                            <button onclick="showProjectModal(3)" class="text-sm border border-primary text-primary py-2 px-4 rounded-full hover:bg-primary hover:text-background-color transition duration-300">
                                View Details
                            </button>
                        </div>
                    </div>
                    
                    <!-- Project 4: Secure Adversarial AI Models -->
                    <div class="card-bg rounded-xl overflow-hidden shadow-xl hover:shadow-primary/20 transition duration-300">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-text-color mb-2">4. Secure Adversarial AI Models</h3>
                            <p class="text-primary font-medium mb-4">AI/ML Security</p>
                            <p class="text-gray-400 text-sm mb-4">Implemented defenses against adversarial AI attacks, successfully improving model robustness by 15%.</p>
                            <button onclick="showProjectModal(4)" class="text-sm border border-primary text-primary py-2 px-4 rounded-full hover:bg-primary hover:text-background-color transition duration-300">
                                View Details
                            </button>
                        </div>
                    </div>
                    
                    <!-- Project 5: Real-Time Threat Dashboard -->
                    <div class="card-bg rounded-xl overflow-hidden shadow-xl hover:shadow-primary/20 transition duration-300">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-text-color mb-2">5. Real-Time Threat Intelligence Dashboard</h3>
                            <p class="text-primary font-medium mb-4">Cyber Intelligence, Data Visualization</p>
                            <p class="text-gray-400 text-sm mb-4">System designed to collect, analyze, and visualize threat intelligence data in real-time for immediate action.</p>
                            <button onclick="showProjectModal(5)" class="text-sm border border-primary text-primary py-2 px-4 rounded-full hover:bg-primary hover:text-background-color transition duration-300">
                                View Details
                            </button>
                        </div>
                    </div>
                    
                    <!-- Project 6: Temple and Monument Detection -->
                    <div class="card-bg rounded-xl overflow-hidden shadow-xl hover:shadow-primary/20 transition duration-300">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-text-color mb-2">6. Temple and Monument Detection</h3>
                            <p class="text-primary font-medium mb-4">YOLOV8 Deep Learning, Computer Vision</p>
                            <p class="text-gray-400 text-sm mb-4">Utilized YOLOV8 Deep Learning for efficient, real-time object recognition of temples and monuments.</p>
                            <button onclick="showProjectModal(6)" class="text-sm border border-primary text-primary py-2 px-4 rounded-full hover:bg-primary hover:text-background-color transition duration-300">
                                View Details
                            </button>
                        </div>
                    </div>

                    <!-- Project 7: Auction Web App (NEW - Simple Card, No Modal needed for this one) -->
                    <div class="card-bg rounded-xl overflow-hidden shadow-xl hover:shadow-primary/20 transition duration-300">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-text-color mb-2">7. Auction Web App (CPL)</h3>
                            <p class="text-primary font-medium mb-4">PHP, MySQL</p>
                            <p class="text-gray-400 text-sm mb-4">Built a full-stack web application with role-based access for 200+ users (Chanakya Premier League).</p>
                            <!-- Note: Added a disabled/placeholder button for the last project -->
                            <span class="text-sm border border-gray-600 text-gray-600 py-2 px-4 rounded-full cursor-not-allowed">Details Soon</span>
                        </div>
                    </div>

                </div>
            </section>
            
            <!-- ACTIVITIES & CERTIFICATIONS SECTION -->
            <section id="activities" data-section="activities" class="section-content hidden pt-8">
                <h2 class="text-4xl font-bold text-primary mb-10 border-b border-primary/50 pb-4">Professional Growth & Certifications</h2>
                
                <div class="grid lg:grid-cols-2 gap-12">
                    <!-- Column 1: Activities/Experience -->
                    <div class="space-y-6">
                        <h3 class="text-2xl font-semibold text-text-color flex items-center mb-4">
                            <i data-lucide="award" class="text-primary w-5 h-5 mr-3"></i> Professional Activities & Experience
                        </h3>
                        <ul class="space-y-4">
                            <li class="card-bg p-4 rounded-lg border-l-4 border-primary">
                                <p class="font-bold text-lg">Cyber Job Simulations (Deloitte, Tata, Telstra)</p>
                                <p class="text-sm text-gray-400">Completed simulations focusing on incident postmortem, malware mitigation, and security analysis on Forage.</p>
                            </li>
                            <li class="card-bg p-4 rounded-lg border-l-4 border-primary">
                                <p class="font-bold text-lg">CTF & Bug Bounty Participation</p>
                                <p class="text-sm text-gray-400">Actively participates in Capture The Flag challenges and bug bounty programs to enhance practical cybersecurity skills.</p>
                            </li>
                            <li class="card-bg p-4 rounded-lg border-l-4 border-primary">
                                <p class="font-bold text-lg">Technical Blog Author & Simulations</p>
                                <p class="text-sm text-gray-400">Published technical blogs (TCP, MySQL Ports, STRIDE, SSH) and conducted networking simulations (Wireshark, Cisco Packet Tracer).</p>
                            </li>
                        </ul>
                    </div>

                    <!-- Column 2: Certifications -->
                    <div class="space-y-6">
                        <h3 class="text-2xl font-semibold text-text-color flex items-center mb-4">
                            <i data-lucide="graduation-cap" class="text-primary w-5 h-5 mr-3"></i> Key Certifications
                        </h3>
                        <ul class="space-y-3">
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">Google: AI Essentials</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">Google: Fundamentals of Cybersecurity</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">Google: Generative AI</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">Google: Play It Safe: Manage Security Risks</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">Infosys: Open AI Development</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">Infosys: Ethical Hacking for Beginner</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">CISCO: Cybersecurity</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">IIT Kharagpur: Introduction to Quantum Cryptography</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">IIT Kharagpur: Astrophysics</p>
                            </li>
                            <li class="card-bg p-3 rounded-lg border-l-4 border-primary/70">
                                <p class="font-medium text-text-color">NISM Exam</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- CONTACT SECTION -->
            <section id="contact" data-section="contact" class="section-content hidden pt-8">
                <h2 class="text-4xl font-bold text-primary mb-10 border-b border-primary/50 pb-4">Connect with Me</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    
                    <!-- Contact Card 1: Email -->
                    <a href="mailto:sugnanamurhtygm@gmail.com" class="card-bg p-6 rounded-xl text-center flex flex-col items-center justify-center hover:bg-primary/10 transition duration-300 shadow-xl">
                        <i data-lucide="mail" class="text-primary w-8 h-8 mb-3"></i>
                        <p class="text-lg font-semibold">Email Me</p>
                        <p class="text-sm text-gray-400">sugnanamurhtygm@gmail.com</p>
                    </a>
                    
                    <!-- Contact Card 2: LinkedIn -->
                    <a href="https://www.linkedin.com/in/sugnana-murthy-gm-6270" target="_blank" rel="noopener noreferrer" class="card-bg p-6 rounded-xl text-center flex flex-col items-center justify-center hover:bg-primary/10 transition duration-300 shadow-xl">
                        <i data-lucide="linkedin" class="text-primary w-8 h-8 mb-3"></i>
                        <p class="text-lg font-semibold">Connect on LinkedIn</p>
                        <p class="text-sm text-gray-400">/sugnana-murthy-gm-6270</p>
                    </a>
                    
                    <!-- Contact Card 3: GitHub -->
                    <a href="https://github.com/CU22BCA033A" target="_blank" rel="noopener noreferrer" class="card-bg p-6 rounded-xl text-center flex flex-col items-center justify-center hover:bg-primary/10 transition duration-300 shadow-xl">
                        <i data-lucide="github" class="text-primary w-8 h-8 mb-3"></i>
                        <p class="text-lg font-semibold">View My Code</p>
                        <p class="text-sm text-gray-400">/CU22BCA033A</p>
                    </a>
                </div>
                
                <div class="mt-8 text-center text-gray-400">
                    <p>Phone: 7483546559 | Address: Bengaluru</p>
                </div>
            </section>

        </div>
    </main>
    
    <!-- Footer -->
    <footer class="card-bg mt-12 py-6 border-t border-primary/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-400">
            &copy; 2024 Sugnana Murthy GM. All rights reserved. Built with passion and security in mind.
        </div>
    </footer>


    <!-- Project Detail Modal -->
    <div id="project-modal" class="fixed inset-0 bg-black/80 z-[100] hidden flex items-center justify-center p-4" onclick="closeProjectModal()">
        <div class="card-bg w-full max-w-3xl rounded-xl p-8 shadow-2xl relative" onclick="event.stopPropagation()">
            <button onclick="closeProjectModal()" class="absolute top-4 right-4 text-gray-400 hover:text-primary transition duration-300">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <h3 id="modal-title" class="text-3xl font-bold text-primary mb-2"></h3>
            <p id="modal-tech" class="text-lg text-gray-300 mb-4"></p>
            <div id="modal-description" class="text-gray-400 space-y-4 mb-6 border-b border-primary/20 pb-4"></div>
            
            <!-- Gemini AI Feature Section -->
            <h4 class="text-xl font-semibold text-text-color mb-4 flex items-center">
                <i data-lucide="lightbulb" class="w-5 h-5 text-primary mr-2"></i> Cybersecurity Intelligence (Powered by Gemini)
            </h4>

            <button id="generate-summary-btn" class="bg-primary text-background-color font-bold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed" onclick="generateSecuritySummary()">
                <i data-lucide="sparkles" class="w-5 h-5 mr-2"></i>
                <span id="button-text">✨ Get Security Insight</span>
            </button>

            <!-- AI Output Area -->
            <div id="ai-output-container" class="mt-4 hidden p-4 border border-primary/50 rounded-lg bg-gray-900/50">
                <p id="ai-summary" class="text-gray-300"></p>
                <div id="ai-sources" class="text-xs text-gray-500 mt-2 space-y-1"></div>
            </div>

        </div>
    </div>


    <script>
        // --- Configuration for Gemini API ---
        const GEMINI_MODEL = 'gemini-2.5-flash-preview-09-2025';
        const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=`;
        const API_KEY = ""; // Canvas will provide the key at runtime

        // --- 1. State and Data Management ---
        const sections = ['home', 'skills', 'projects', 'activities', 'contact'];
        const sectionElements = sections.map(id => document.getElementById(id));
        const navLinks = document.querySelectorAll('.nav-link');
        let currentSection = 'home';
        let currentProjectId = null;
        
        // Data for Project Modals - Added specific prompt keys for Gemini
        const projectDetails = {
            1: {
                title: "Cybersecurity Awareness Portal (NISD Compliance)",
                tech: "React, Flask, AWS",
                description: [
                    "Built a fully functional, secure web portal utilizing React for the dynamic frontend and Flask for a robust, scalable backend.",
                    "The content is specifically aligned with NISD (National Information Security Division) standards for high-quality cybersecurity education.",
                    "Hosted on AWS, demonstrating cloud deployment proficiency and ensuring high availability and scalability.",
                    "Achieved 90% user satisfaction, proving its effectiveness as a training and awareness tool."
                ],
                geminiPrompt: "Analyze this NISD-compliant Cybersecurity Awareness Portal built on React/Flask/AWS. What are the key security best practices for hosting such a platform on the cloud, specifically regarding data integrity and user authentication? Summarize in one paragraph."
            },
            2: {
                title: "Translatr (Encryption/Decryption Tool)",
                tech: "AWS Encryption SDK, Custom Ciphers",
                description: [
                    "A cryptographic tool developed to implement and demonstrate various classical encryption algorithms.",
                    "Supports Caesar, Beaufort, and Autokey ciphers, providing practical insight into cryptographic mechanisms.",
                    "Utilized the AWS Encryption SDK to handle key management and secure operations, showcasing cloud-based security development."
                ],
                geminiPrompt: "Summarize the modern risks associated with using classical ciphers (Caesar, Beaufort, Autokey) for modern applications and why the AWS Encryption SDK or AES-256 is a more secure, industry-standard alternative for data at rest/in transit. Summarize in one paragraph."
            },
            3: {
                title: "Steganography Web App",
                tech: "JavaScript, Flask",
                description: [
                    "Developed a full-stack web application using JavaScript and Flask to implement steganography.",
                    "Functionality includes securely hiding and extracting messages embedded within image files.",
                    "Demonstrates skill in web security and advanced data manipulation techniques."
                ],
                geminiPrompt: "Explain the threat landscape of steganography in web applications (e.g., C2 communications) and suggest three technical mitigation steps a modern Web Application Firewall (WAF) or Intrusion Detection System (IDS) could take to identify and block it. Summarize in one paragraph."
            },
            4: {
                title: "Secure Adversarial AI Models",
                tech: "AI/ML Security",
                description: [
                    "Focused on the critical domain of AI security by implementing robust defenses against common adversarial attacks.",
                    "Demonstrated ability to improve model robustness by 15% against malicious data injection and manipulation attempts.",
                    "Explores the intersection of Machine Learning and Cybersecurity, a highly advanced and sought-after skill."
                ],
                geminiPrompt: "Provide a brief overview of the two most common adversarial AI attacks (e.g., model poisoning, evasion attacks) and how improving model robustness by 15% directly benefits an organization's security posture. Summarize in one paragraph."
            },
            5: {
                title: "Real-Time Threat Intelligence Dashboard",
                tech: "Cyber Intelligence, Data Visualization",
                description: [
                    "Designed and developed a comprehensive cybersecurity application for visualizing threat data.",
                    "The dashboard is built to collect and analyze security intelligence in real-time, enabling rapid response to emerging threats.",
                    "A critical project demonstrating skills in data processing, analysis, and intuitive visualization for security operations."
                ],
                geminiPrompt: "What are the three most critical real-time threat indicators that an effective dashboard should monitor (e.g., failed login attempts, anomalous network traffic, known bad IPs), and what is the primary security benefit of centralizing this data? Summarize in one paragraph."
            },
            6: {
                title: "Temple and Monument Detection",
                tech: "YOLOV8 Deep Learning, Computer Vision",
                description: [
                    "A computer vision project utilizing the YOLOV8 Deep Learning model.",
                    "Achieved efficient, real-time object recognition and detection of specific temples and monuments.",
                    "Showcases strong skills in AI, Deep Learning model implementation, and performance optimization."
                ],
                geminiPrompt: "When deploying a computer vision model like YOLOV8 in a security or public infrastructure context (e.g., monitoring), what are the main privacy and ethical concerns that must be addressed, and what steps should be taken to ensure GDPR or similar compliance? Summarize in one paragraph."
            }
        };

        // --- 2. Interactive Navigation (SPA Simulation) ---

        /**
         * Switches the active section based on the provided ID.
         * @param {string} targetSectionId 
         */
        function switchSection(targetSectionId) {
            // Find and deactivate the current section
            const currentEl = document.querySelector(`.section-content.active`);
            if (currentEl) {
                currentEl.classList.remove('active');
                currentEl.classList.add('hidden');
            }

            // Find and activate the target section
            const targetEl = document.getElementById(targetSectionId);
            if (targetEl) {
                targetEl.classList.remove('hidden');
                // Give it a small delay before adding 'active' for transition effect
                setTimeout(() => {
                    targetEl.classList.add('active');
                    currentSection = targetSectionId;
                    // Update URL hash for "connected pages" feel
                    history.pushState(null, '', `#${targetSectionId}`);
                    // Re-run Lucide icons render on the new section
                    lucide.createIcons();
                }, 50); 
            }

            // Update active state in navigation bar
            navLinks.forEach(link => {
                link.classList.remove('text-primary');
                link.classList.add('text-gray-300');
                if (link.dataset.section === targetSectionId) {
                    link.classList.add('text-primary');
                    link.classList.remove('text-gray-300');
                }
            });
        }

        // Initialize section based on URL hash on load
        function initializeSections() {
            const hash = window.location.hash.replace('#', '');
            const initialSection = sections.includes(hash) ? hash : 'home';
            
            // Hide all sections initially
            sectionElements.forEach(el => {
                if (el.id !== initialSection) {
                    el.classList.add('hidden');
                    el.classList.remove('active');
                }
            });

            // Activate the initial section
            const initialEl = document.getElementById(initialSection);
            if (initialEl) {
                initialEl.classList.remove('hidden');
                initialEl.classList.add('active');
            }
            
            // Update nav state
            switchSection(initialSection);
        }

        // Add event listeners for navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetSection = link.dataset.section;
                switchSection(targetSection);
                // Smooth scroll to the top of the content area
                document.querySelector('main').scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', () => {
            const hash = window.location.hash.replace('#', '');
            if (sections.includes(hash)) {
                switchSection(hash);
            }
        });


        // --- 3. Project Modal Logic ---
        const modal = document.getElementById('project-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalTech = document.getElementById('modal-tech');
        const modalDescription = document.getElementById('modal-description');
        const aiOutputContainer = document.getElementById('ai-output-container');
        const aiSummary = document.getElementById('ai-summary');
        const aiSources = document.getElementById('ai-sources');
        const generateBtn = document.getElementById('generate-summary-btn');
        const btnText = document.getElementById('button-text');
        

        function showProjectModal(projectId) {
            currentProjectId = projectId;
            const detail = projectDetails[projectId];
            if (!detail) return;

            // Reset AI content and button state
            aiOutputContainer.classList.add('hidden');
            aiSummary.textContent = '';
            aiSources.innerHTML = '';
            generateBtn.disabled = false;
            btnText.innerHTML = '<i data-lucide="sparkles" class="w-5 h-5 mr-2"></i> ✨ Get Security Insight';

            // Populate static content
            modalTitle.textContent = detail.title;
            modalTech.textContent = detail.tech;
            
            // Populate description as paragraphs
            modalDescription.innerHTML = detail.description.map(p => `<p class="mb-2">${p}</p>`).join('');

            // Show modal
            modal.classList.remove('hidden');
            lucide.createIcons(); // Re-render icons in the modal
        }

        function closeProjectModal() {
            modal.classList.add('hidden');
            currentProjectId = null;
        }


        // --- 4. Gemini API Integration ---

        /**
         * Generic function to fetch response from Gemini API with exponential backoff.
         * @param {object} payload - The request body for the API.
         * @returns {Promise<{text: string, sources: Array<{uri: string, title: string}>}>}
         */
        async function fetchGeminiResponse(payload, maxRetries = 5) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(GEMINI_API_URL + API_KEY, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        // Throw error to trigger retry if 429 (Rate Limit) or other retryable errors
                        throw new Error(`API error: ${response.status} ${response.statusText}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];

                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        const text = candidate.content.parts[0].text;
                        
                        // Extract grounding sources
                        let sources = [];
                        const groundingMetadata = candidate.groundingMetadata;
                        if (groundingMetadata && groundingMetadata.groundingAttributions) {
                            sources = groundingMetadata.groundingAttributions
                                .map(attribution => ({
                                    uri: attribution.web?.uri,
                                    title: attribution.web?.title,
                                }))
                                .filter(source => source.uri && source.title);
                        }
                        
                        return { text, sources };

                    } else {
                        return { text: "Error: The model returned an empty response.", sources: [] };
                    }

                } catch (error) {
                    console.error("Gemini API call failed:", error);
                    if (i < maxRetries - 1) {
                        const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                    } else {
                        throw new Error("Failed to connect to the Gemini API after multiple retries.");
                    }
                }
            }
        }

        /**
         * Triggers the Gemini API call to generate a security summary for the current project.
         */
        async function generateSecuritySummary() {
            if (!currentProjectId) return;
            const project = projectDetails[currentProjectId];
            if (!project) return;

            // Set loading state
            generateBtn.disabled = true;
            btnText.innerHTML = '<span class="loader mr-2"></span> Generating Insight...';
            aiOutputContainer.classList.add('hidden');
            aiSummary.textContent = '';
            aiSources.innerHTML = '';


            const systemPrompt = "You are a concise, world-class Cybersecurity Consultant. Your task is to analyze the following project description and provide a single-paragraph summary of its key security implications, attack vectors, or defensive mechanisms. Start your summary with 'Security Insight: '";
            const userQuery = project.geminiPrompt;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            try {
                const { text, sources } = await fetchGeminiResponse(payload);
                
                aiSummary.textContent = text;
                
                // Display sources
                if (sources.length > 0) {
                    aiSources.innerHTML = '<p class="font-bold text-primary mt-3">Sources:</p>' + sources.map((s, index) => 
                        `<a href="${s.uri}" target="_blank" rel="noopener noreferrer" class="block text-gray-500 hover:text-primary underline transition duration-300">
                            ${index + 1}. ${s.title}
                        </a>`
                    ).join('');
                } else {
                     aiSources.innerHTML = '';
                }

                aiOutputContainer.classList.remove('hidden');

            } catch (error) {
                aiSummary.textContent = `Error generating insight: ${error.message}`;
                aiOutputContainer.classList.remove('hidden');
                console.error("Final API error:", error);
            } finally {
                // Reset button state
                generateBtn.disabled = false;
                btnText.innerHTML = '<i data-lucide="sparkles" class="w-5 h-5 mr-2"></i> ✨ Get Security Insight';
                lucide.createIcons(); // Re-render sparkle icon
            }
        }


        // --- 5. Typing Animation (Advanced Feature) ---
        const textElement = document.getElementById('typewriter-text');
        const roles = [
            "Security Consultant",
            "Full-Stack Web Developer",
            "Penetration Tester",
            "Vulnerability Analyst"
        ];
        let roleIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typingSpeed = 100;

        function type() {
            const currentRole = roles[roleIndex];
            const display = currentRole.substring(0, charIndex);
            textElement.textContent = display;

            if (!isDeleting) {
                // Typing forward
                charIndex++;
                if (charIndex > currentRole.length) {
                    isDeleting = true;
                    typingSpeed = 20; // Pause at end, then faster delete
                    setTimeout(type, 1500); // Wait longer before starting to delete
                    return;
                }
                typingSpeed = 100 - Math.random() * 50; // Randomize speed
            } else {
                // Typing backward (deleting)
                charIndex--;
                if (charIndex === 0) {
                    isDeleting = false;
                    roleIndex = (roleIndex + 1) % roles.length;
                    typingSpeed = 150; // Pause slightly before next word starts
                }
                typingSpeed = 50; // Consistent delete speed
            }

            if (!isDeleting && charIndex > 0) {
                // Scroll the typing element into view if it's the active section
                if (currentSection === 'home') {
                    textElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }

            setTimeout(type, typingSpeed);
        }
        
        // --- 6. Initialization on Load ---
        window.onload = function() {
            initializeSections(); // Sets the correct initial page state
            type(); // Start the typewriter effect
            lucide.createIcons(); // Initialize all Lucide icons
        };
    </script>

</body>
</html>
